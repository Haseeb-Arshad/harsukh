'use client'
import React, { useEffect, useRef, useState } from 'react';
import OpenSeadragon from 'openseadragon';
import styles from '@/styles/Floor/floorApartment.module.css';
import { Suspense } from 'react';
import Loading from '../[floor]/Loading';
import { useRouter } from 'next/navigation';
import Image from 'next/image';
import apartmentData from '@/app/component/data/floorData';
import { motion, AnimatePresence } from 'framer-motion';
import { Star } from 'lucide-react';
import { useSelector, useDispatch } from 'react-redux';
import { addFavoriteApartment, removeFavoriteApartment } from '@/state/apartment/favApartment';
import { useParams } from 'next/navigation';


const Floor = ({ imageName, imageLink }) => {
  const viewerRef = useRef(null);
  const [isLoading, setIsLoading] = useState(true);
  const [isLaptopScreen, setIsLaptopScreen] = useState(false);
  const [activePolygon, setActivePolygon] = useState(null);
  const [popupPosition, setPopupPosition] = useState({ x: 0, y: 0 });
  const [viewer, setViewer] = useState(null);
  const [overlay, setOverlay] = useState(true);
  const svgRef = useRef(null);
  const [isMobile, setIsMobile] = useState(false);
  const [floor, setFloor] = useState('');
  const [zoomCoord, setZoomCoord] = useState(0.7);
  const [apartmentInfo, setApartmentInfo] = useState(null);
  const [apartmentNum, setApartmentNum] = useState(0);

  const params = useParams();


  const router = useRouter();

  const floorNameMapping = {
    'thirdFloor': "3rd Floor",
    'secondFloor': "2nd Floor",
    'firstFloor': "1st Floor",
    'groundFloor': "Ground Floor",
    'basement1': "Basement 1",
    'basement3': "Basement 3",
    'basement4': "Basement 4",
    'basement5': "Basement 5",
    'basement6': "Basement 6"
  };

  useEffect(() => {
    const checkMobile = () => setIsMobile(window.innerWidth <= 768);
    const checkLaptop = () => setIsLaptop(window.innerWidth > 768);
    checkMobile();
    window.addEventListener('resize', checkMobile);
    return () => window.removeEventListener('resize', checkMobile);
  }, []);


  const favoriteApartments = useSelector((state) => state.favoriteApartments.favoriteApartments);


  useEffect(() => {
    let foundApartment = null;
    let foundFloor = '';

    const apartmentParam = params.floor; // e.g., "Apartment1"
    const match = apartmentParam.match(/\d+/); // Extracts the digits from the string
    const apartmentNumber = match ? match[0] : null; // Gets the first match or null if no match
    setApartmentNum(apartmentNumber )

    // Search for the apartment in all floors
    for (const floorName in apartmentData) {
        const apartment = apartmentData[floorName].find(apt => apt.Apartmentno.toString() === apartmentNumber);
        if (apartment) {
            foundApartment = apartment;
            foundFloor = floorName;
            break;
        }
    }

    if (foundApartment) {
        setApartmentInfo(foundApartment);
        setFloor(foundFloor);
    } else {
        // Redirect to apartment 1 if the apartment is not found
        // router.push('/thirdFloor/Apartment1');
    }
}, [params.apartment, router]);




const handleIconClick = () => {
  if (apartmentInfo) {
    const isFavorite = favoriteApartments.some(apt => apt.Apartmentno === apartmentInfo.Apartmentno);
    if (isFavorite) {
      dispatch(removeFavoriteApartment(apartmentInfo.Apartmentno));
      setPopupMessage('Apartment has been removed from favorites.');
    } else {
      dispatch(addFavoriteApartment({ ...apartmentInfo, floor }));
      setPopupMessage('Apartment has been added to favorites.');
    }
    setShowPopup(true);
    setIsPopupVisible(true);
    setTimeout(() => {
      setIsPopupVisible(false);
    }, 5000); // Start fade out slightly before hiding
    setTimeout(() => {
      setShowPopup(false);
    }, 5000);
  }
};

function isPointInPolygon(point, polygon) {
  const points = polygon.points;
  let inside = false;
  for (let i = 0, j = points.length - 1; i < points.length; j = i++) {
    const xi = points[i].x, yi = points[i].y;
    const xj = points[j].x, yj = points[j].y;
    const intersect = ((yi > point.y) !== (yj > point.y))
        && (point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi);
    if (intersect) inside = !inside;
  }
  return inside;
}

  useEffect(() => {

    if(isMobile)
    {
      setZoomCoord(4)
    }
    else
    {
      setZoomCoord(0.7);
    }

  }, [isMobile]);


  useEffect(() => {
    let viewer;

    if (viewerRef.current) {
      viewer = OpenSeadragon({
        element: viewerRef.current,
        tileSources: {
          type: 'image',
          url: imageLink,
          buildPyramid: false,
          width: 10000,
          height: 10000,
        },
        showNavigationControl: false,
        maxZoomPixelRatio: 10,
        smoothTileEdgesMinZoom: 1,
        blendTime: 0.1,
        constrainDuringPan: true,
        minZoomImageRatio: 1,

        minZoomImageRatio: zoomCoord,
        visibilityRatio: zoomCoord, 
        minZoomLevel: zoomCoord,
        maxZoomLevel: 10,  
        wrapHorizontal: false,
        defaultZoomLevel: zoomCoord, 
        zoomPerScroll: 1.2,
        zoomPerClick: 1.5,
        animationTime: 0.5,
        gestureSettingsMouse: {
          clickToZoom: false,
          pinchToZoom: true,
          dblClickToZoom: true,
        },
        loadTilesWithAjax: true,
        ajaxHeaders: {
          'Cache-Control': 'max-age=3600',
        },
      });

      setViewer(viewer);


      
      viewer.addHandler('tile-loaded', () => {
        setIsLoading(false);
      });

      viewer.addHandler('open', function() {
        if (imageName === 'thirdFloor') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
            <svg  xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
              
            <text class="klm" transform="translate(881.77 101.41)">Road View</text>
            <path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>
           
              <polygon data-image="1" class="${styles.st0}" points="1277.53 303.54 1402.95 362.7 1443.77 362.7 1443.77 345.96 1502.93 345.96 1502.93 362.7 1495.29 362.7 1495.29 375.24 1501.48 375.24 1501.48 408.33 1495.21 408.33 1495.21 420.94 1508.05 420.94 1508.05 412.61 1540.36 412.61 1540.36 473.97 1540.36 529.25 1444.69 529.25 1223.03 529.25 1223.03 440.43 1251.77 440.43 1251.77 425.76 1200.71 425.76 1200.71 329.15 1251.77 329.15 1251.77 375.92 1263.69 375.92 1263.69 368.89 1277.45 368.89 1277.53 303.54"/>
              <polygon data-image="2" class="${styles.st0}" points="1223.18 575.26 1223.18 663.54 1251.85 663.54 1251.85 677.3 1200.71 677.3 1200.71 774.06 1251.85 774.06 1251.85 733.94 1276.84 733.94 1276.84 794.47 1404.56 733.94 1443.54 733.94 1443.54 750.22 1503.16 749.99 1503.16 733.94 1508.2 733.94 1508.2 684.87 1539.85 684.87 1539.85 574.34 1351.36 574.34 1252.31 574.34 1223.18 575.26"/>
              <polygon data-image="3" class="${styles.st0}" points="527.49 404.15 527.49 424.8 483.69 424.8 483.69 529.52 348.98 529.52 348.98 190.73 333.04 190.04 458.47 136.61 458.47 195.31 471.31 195.31 471.31 190.96 483.69 190.96 483.69 404.15 527.49 404.15"/>
              <polygon data-image="4" class="${styles.st0}" points="663.47 351.92 663.47 226.96 612.1 226.96 612.1 223.29 598.8 223.29 598.8 226.96 586.19 226.96 586.19 173.99 483.69 173.99 483.69 190.96 483.69 404.15 527.49 404.15 527.49 424.8 483.69 424.8 483.69 529.52 605.57 529.52 611.87 529.52 611.99 528.25 640.76 528.25 640.76 439.98 611.64 439.98 611.64 351.92 663.47 351.92"/>
              <polygon data-image="5" class="${styles.st0}" points="953.3 467.72 953.3 430.8 912.48 430.8 912.48 391.36 953.3 391.36 953.3 358.57 932.13 358.57 932.13 222.37 784.53 222.37 784.53 258.83 746.47 258.83 746.47 267.54 740.74 267.54 739.98 261.27 689.22 261.27 689.22 375.92 739.98 375.92 739.98 439.21 711.85 439.21 711.85 530.01 905.61 528.94 932.13 529.25 957.66 530.01 957.66 467.72 953.3 467.72"/>
              <polygon data-image="6" class="${styles.st0}" points="1175.03 374.62 1175.03 263.41 1123.9 263.64 1120.23 263.64 1120.23 258.6 1079.18 258.6 1079.18 222.37 932.13 222.37 932.13 358.57 953.3 358.57 953.3 391.36 912.48 391.36 912.48 430.8 953.3 430.8 953.3 467.72 957.66 467.72 957.66 530.01 1064.28 528.71 1064.28 530.01 1087.67 530.01 1152.56 530.01 1152.56 439.52 1123.67 439.98 1123.67 374.39 1175.03 374.62"/>
              <polygon data-image="7" class="${styles.st0}" points="952.38 746.32 952.38 711.47 910.65 711.47 910.65 662.62 951.24 662.62 951.24 614.7 876.71 614.7 876.71 613.5 874.88 613.5 874.88 574.34 768.88 574.34 768.88 573.48 746.24 573.48 746.24 574.17 739.99 574.17 739.99 576.29 711.16 575.95 711.16 663.54 740.28 663.54 740.28 722.01 688.92 722.01 688.92 835.98 740.28 835.98 740.28 846.06 784.53 846.06 784.53 868.08 931.75 868.08 931.75 746.32 952.38 746.32"/>
              <polygon data-image="8" class="${styles.st0}" points="1123.67 724.53 1123.67 663.77 1152.79 663.77 1152.79 574.34 1026.67 574.34 962.47 574.34 962.47 614.7 951.24 614.7 951.24 662.62 910.65 662.62 910.65 711.47 952.38 711.47 952.38 746.32 931.75 746.32 931.75 868.08 1078.73 868.08 1078.73 840.79 1123.67 840.79 1123.67 835.75 1174.57 835.75 1174.57 724.53 1123.67 724.53"/>
              <polygon data-image="9" class="${styles.st0}" points="435.62 574.5 357.96 574.5 348.79 574.5 349.25 680.51 349.25 844.31 349.25 900.02 352.76 900.02 352.76 912.79 332.13 912.79 458.09 966.75 458.09 907.75 470.93 907.75 470.93 912.94 483.69 912.94 483.69 574.5 435.62 574.5"/>
              <polygon data-image="10" class="${styles.st0}" points="611.87 752.13 611.87 663.62 640.76 663.62 640.76 575.87 612.33 575.87 612.33 574.5 483.69 574.5 483.69 912.94 483.77 912.94 483.77 917.07 586.34 917.07 586.34 863.11 599.03 863.11 599.03 867.85 611.57 867.85 611.57 862.8 662.32 862.8 662.32 752.13 611.87 752.13"/>
            
            
            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          //  svgOverlay.querySelectorAll('polygon, path').forEach(element => {
          //   element.addEventListener('click', (e) => {
          //     e.preventDefault();
          //     e.stopPropagation();
          //     console.log("JNKJJKNLK")
          //     const dataImage = element.getAttribute('data-image');
          //     if (dataImage) {
          //       console.log(dataImage)
          //       router.push(`/${imageName}/Apartment${dataImage}`);
          //     }
          //   });
          // });


          // svgOverlay.querySelectorAll('polygon, path').forEach(element => {
          //   element.addEventListener('click', (e) => {
          //     e.preventDefault();
          //     e.stopPropagation();
          //     console.log("JNKJJKNLK")
          //     const dataImage = element.getAttribute('data-image');
          //     if (dataImage) {
          //       console.log(dataImage)
          //       router.push(`/${imageName}/Apartment${dataImage}`);
          //     }
          //   });
          // });


          
        // svgOverlay.querySelectorAll('polygon').forEach(polygon => {
        //   polygon.addEventListener('click', (e) => {
        //     e.preventDefault();
        //     e.stopPropagation();
        //     const dataImage = e.target.getAttribute('data-image');
        //     if (dataImage) {
        //       // Find the corresponding apartment data
        //       const apartmentInfo = apartmentData["3rd Floor"].find(apt => apt.Apartmentno.toString() === dataImage);
        //       console.log(apartmentInfo   )
        //       if (apartmentInfo) {
        //         setActivePolygon({
        //           id: dataImage,
        //           Type: apartmentInfo.Type,
        //           Bedrooms: apartmentInfo.Bedrooms,
        //           Area: apartmentInfo.Area
        //         });
                
        //         const rect = e.target.getBoundingClientRect();
        //         setPopupPosition({ x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 });
        //       }
        //     }
        //   });
        // });

        svgOverlay.addEventListener('click', (e) => {
          const svgPoint = viewer.viewport.pointFromPixel(new OpenSeadragon.Point(e.clientX, e.clientY));
          const viewportPoint = viewer.viewport.viewportToImageCoordinates(svgPoint);

          // Check if the click is within any polygon
          const polygons = svgOverlay.querySelectorAll('polygon');
          for (let polygon of polygons) {
            if (isPointInPolygon(viewportPoint, polygon)) {
              const dataImage = polygon.getAttribute('data-image');
              if (dataImage) {
                const apartmentInfo = apartmentData["3rd Floor"].find(apt => apt.Apartmentno.toString() === dataImage);
                
                if (apartmentInfo) {
                  setActivePolygon({
                    id: dataImage,
                    Type: apartmentInfo.Type,
                    Bedrooms: apartmentInfo.Bedrooms,
                    Area: apartmentInfo.Area
                  });
                  
                  setPopupPosition({ x: e.clientX, y: e.clientY });
                }
              }
              break;
            }
          }
        });
      



        // const handlePolygonInteraction = (e) => {
        //   e.preventDefault();
        //   e.stopPropagation();
        //   const dataImage = e.target.getAttribute('data-image');
        //   if (dataImage) {
        //     // Find the corresponding apartment data
        //     const apartmentInfo = apartmentData["3rd Floor"].find(apt => apt.Apartmentno.toString() === dataImage);
            
        //     if (apartmentInfo) {
        //       setActivePolygon({
        //         id: dataImage,
        //         Type: apartmentInfo.Type,
        //         Bedrooms: apartmentInfo.Bedrooms,
        //         Area: apartmentInfo.Area
        //       });
              
        //       const rect = e.target.getBoundingClientRect();
        //       setPopupPosition({ x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 });
        //     }
        //   }
        // };




        // svgOverlay.querySelectorAll('polygon').forEach(polygon => {
        //   // Use both click and touchstart events
        //   polygon.addEventListener('click', handlePolygonInteraction);
        //   polygon.addEventListener('touchstart', handlePolygonInteraction);
        // });

            // Disable zoom on polygon hover
            // polygon.addEventListener('mouseenter', () => {
            //   viewer.setMouseNavEnabled(false);
            // });

            // polygon.addEventListener('mouseleave', () => {
            //   viewer.setMouseNavEnabled(true);
            // });

      
        

        }

        if ( imageName === 'secondFloor') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
       
                   <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>
            <polygon  data-image="11" data-tip="penthouse06" class="${styles.st0}" points="354.29 450.06 354.29 416.43 354.29 356.2 355.75 356.2 355.75 343.67 354.6 343.67 354.6 273.27 386.24 273.27 386.24 234.06 331.9 234.06 331.9 193.25 336.71 193.25 336.71 190.65 295.29 190.96 294.98 174.9 257.22 175.36 257.22 195.54 244.38 195.54 244.38 190.96 231.85 190.96 231.85 488.13 355.98 488.13 355.98 475.59 354.75 475.59 354.29 475.59 354.29 450.06"/>
            <path  data-image="12" data-tip="penthouse06" class="${styles.st0}" d="M473.38,190.65v4.89H460.84v-53L336.71,190.65v2.6H331.9v40.81h54.34v39.21H354.6v70.4h1.15V356.2h-1.46v92.3l.46.07v-.19h37.61v13.3l93.4.15v.09a6.53,6.53,0,0,1,.76-.2V190.65Z"/>
            <polygon  data-image="13" data-tip="penthouse06" class="${styles.st0}" points="613.4 444.1 613.4 222.6 600.25 222.6 600.25 227.34 588.33 227.34 588.33 178.88 486.52 178.88 486.52 190.65 486.52 527.57 642.45 527.57 642.45 444.1 613.4 444.1"/>
            <polygon  data-image="14" data-tip="penthouse06" class="${styles.st0}" points="911.03 430.65 911.03 390.6 951.24 390.6 951.24 357.88 932.09 357.88 932.09 222.6 785.68 222.6 785.68 258.83 747.39 258.83 747.39 267.54 741.2 267.54 741.2 312.25 741.2 439.29 712.76 439.29 712.76 528.02 734.09 528.02 906.52 528.02 906.52 466.34 951.24 466.34 951.24 430.65 911.03 430.65"/>
            <polygon  data-image="15" data-tip="penthouse06" class="${styles.st0}" points="1122.75 439.06 1122.75 258.6 1078.73 258.6 1078.73 222.6 932.09 222.6 932.09 357.88 951.24 357.88 951.24 390.6 911.03 390.6 911.03 430.65 951.24 430.65 951.24 466.34 957.66 466.34 957.66 528.02 1039.97 528.02 1151.41 528.02 1151.41 439.06 1122.75 439.06"/>
            <polygon data-image="16" data-tip="penthouse06" class="${styles.st0}" points="1377.34 351.99 1275.92 312.71 1275.92 361.78 1262.85 361.78 1262.85 373.94 1258.73 373.94 1258.73 438.6 1229.61 438.6 1229.61 528.02 1377.34 528.02 1377.34 481.02 1377.34 351.99"/>
            <polygon data-image="17" data-tip="penthouse06" class="${styles.st0}" points="1462.73 418.5 1492.46 418.42 1492.46 420.02 1505.22 420.02 1505.22 368.89 1505.22 361.55 1500.41 361.55 1500.41 345.5 1441.94 345.5 1441.94 361.55 1402.04 361.55 1377.34 351.99 1377.34 481.02 1377.34 528.02 1460.97 528.02 1460.28 418.5 1462.73 418.5"/>
            <polygon data-image="17" data-tip="penthouse06" class="${styles.st0}" points="1526.32 356.97 1526.32 377.38 1505.22 368.89 1505.22 420.02 1492.46 420.02 1492.46 418.42 1462.73 418.5 1460.28 418.5 1460.97 528.02 1591.18 528.02 1591.18 382.38 1526.32 356.97"/>
            <polygon data-image="18" data-tip="penthouse06" class="${styles.st0}" points="1746.9 407.64 1746.9 411.08 1734.75 411.08 1734.75 390.22 1675.59 390.22 1675.59 407.64 1655.64 407.64 1591.18 382.38 1591.18 528.02 1635.92 528.02 1635.92 495.92 1757.45 495.92 1757.45 488.81 1759.74 488.81 1759.74 407.64 1746.9 407.64"/>
            <polygon data-image="19" data-tip="penthouse06" class="${styles.st0}" points="1654.72 686.4 1658.17 686.39 1654.73 686.39 1654.72 686.4 1757.76 611.8 1757.76 604 1633.94 604 1633.94 571.9 1589.15 571.9 1589.15 686.47 1654.72 686.4 1654.73 686.39 1658.17 686.39 1675.67 686.39 1675.67 703.21 1734.67 703.21 1734.67 684.1 1747.21 684.1 1747.21 686.09 1759.59 686.09 1759.59 611.8 1757.76 611.8"/>
            <polygon data-image="20" data-tip="penthouse06" class="${styles.st0}" points="1589.15 571.9 1459.82 571.9 1459.82 683.72 1498.34 683.72 1498.34 730.96 1505.07 731.03 1505.07 719.26 1525.71 711.01 1525.71 736.23 1654.72 686.4 1589.15 686.47 1589.15 571.9"/>
            <polygon data-image="21" data-tip="penthouse06" class="${styles.st0}" points="1498.34 683.72 1459.82 683.72 1459.82 571.9 1376.59 571.9 1376.59 718.34 1383.01 718.34 1383.01 731.03 1400.66 731.03 1402.04 731.18 1441.78 731.18 1441.78 747.54 1500.18 747.54 1500.18 731.03 1505.07 731.03 1498.34 730.96 1498.34 683.72"/>
            <polygon data-image="22" data-tip="penthouse06" class="${styles.st0}" points="1383.01 731.03 1383.01 718.34 1376.59 718.34 1376.59 571.9 1222.42 571.9 1221.66 661.33 1250.39 661.33 1250.39 730.73 1276.08 731.18 1276.08 780.25 1402.04 731.18 1400.66 731.03 1383.01 731.03"/>
            <polygon data-image="23" data-tip="penthouse06" class="${styles.st0}" points="1116.79 571.9 961.94 571.9 961.94 613.33 952.84 613.33 952.84 661.94 910.88 661.94 910.88 709.86 952.84 709.86 952.84 743.57 931.86 743.57 931.86 864.48 1078.42 864.48 1078.42 837.88 1111.13 837.88 1111.13 841.86 1122.75 841.86 1122.75 661.48 1151.41 661.48 1151.41 571.9 1116.79 571.9"/>
            <polygon data-image="24" data-tip="penthouse06" class="${styles.st0}" points="952.84 743.57 952.84 709.86 910.88 709.86 910.88 661.94 952.84 661.94 952.84 613.33 876.64 613.33 876.64 611.49 875.11 611.49 875.11 571.9 712.76 571.9 712.76 661.48 740.89 661.48 740.89 864.48 747.31 864.48 747.31 837.88 785.83 837.88 785.83 864.48 931.86 864.48 931.86 743.57 952.84 743.57"/>
            <polygon data-image="25" data-tip="penthouse06" class="${styles.st0}" points="641.9 571.9 485.21 571.9 485.21 637.63 485.21 908.82 485.98 908.82 485.98 908.55 588.2 908.38 588.6 860.22 601.08 860.16 601.21 864.48 614.17 864.48 612.85 666.52 641.9 666.75 641.9 571.9"/>
            <path data-image="26" data-tip="penthouse06" class="${styles.st0}" d="M392.74,637.78l-.08,13.3H354.2V743.8h1.7v12.49h-1.7v72h30.51v39.86c0-.91-52.89,0-52.89,0V909.4l4.49.06,124.4,47.93.17-52.85,12.38-.12-.43,4.4h12.38V637.63Z"/>
            <path data-image="27" data-tip="penthouse06" class="${styles.st0}" d="M384.71,868.15V828.29H354.2v-72h1.7V743.8h-1.7V624.25h1.7l-.08-12.61-124.52-.3.28,297.95,12.73,0v-4.53l12.38-.11.46,20.57,38.12-.17V908.89l36.55.51V868.15S384.71,867.24,384.71,868.15Z"/>       
          
          </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          const floorName = floorNameMapping[imageName] || imageName;
          const floorApartments = apartmentData[floorName] || [];
    

    
          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });

        }


        if ( imageName === 'firstFloor') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
  
            <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>



            <polygon  data-image="28" data-tip="firstFloorAp1" class="${styles.st0}" points="367.59 278.66 367.59 238.96 312.33 238.96 312.33 198.06 312.33 196.08 285.5 196.08 285.5 179.8 237.77 179.8 237.79 200.43 225.04 200.43 225.04 195.92 212.43 195.92 212.43 208.61 212.43 493.48 336.41 493.48 336.41 480.68 335.26 480.68 335.26 476.59 335.8 476.59 335.8 454 335.19 454 335.19 453.01 335.19 453.01 335.49 278.66 367.59 278.66"/>
            <polygon  data-image="29" data-tip="firstFloorAp1" class="${styles.st0}"  points="335.19 454 335.19 453.01 335.19 453.01 335.19 454"/>
            <polygon class="${styles.st0}" points="466.95 240.71 466.95 195.85 454.73 195.85 454.73 200.43 441.58 200.43 441.58 151.82 327.24 195.85 323.8 195.85 323.8 198.06 312.33 198.06 312.33 238.96 367.59 238.96 367.59 278.66 335.49 278.66 335.19 453.01 337.17 453.01 337.17 453.58 359.95 453.58 359.95 452.97 373.52 452.97 373.52 466.8 464.89 466.8 464.89 240.71 466.95 240.71"/>

            <polygon  data-image="30" data-tip="firstFloorAp1" class="${styles.st0}"  points="594.14 444.1 594.14 227.64 581.3 227.64 581.3 232.53 568.76 232.53 568.76 188.81 466.95 188.81 466.95 195.85 466.95 240.71 464.89 240.71 464.89 466.8 464.89 532.61 623.49 532.61 623.49 444.1 594.14 444.1"/>
       
            <polygon data-image="31" data-tip="firstFloorAp4" class="${styles.st0}" points="933.5 471.62 933.5 435.54 892.23 435.54 892.23 397.02 934.12 397.02 934.12 362.17 912.94 362.17 912.94 227.87 766.42 227.87 766.42 263.72 728.2 263.72 728.2 271.98 722.09 271.98 722.09 443.8 693.5 443.8 693.5 532.61 887.18 532.61 939.31 532.61 939.31 471.62 933.5 471.62"/>

            <polygon  data-image="32" data-tip="firstFloorAp5" class="${styles.st0}" points="1103.95 443.95 1103.95 263.41 1059.16 263.41 1059.16 227.87 912.94 227.87 912.94 362.17 934.12 362.17 934.12 397.02 892.23 397.02 892.23 435.54 933.5 435.54 933.5 471.62 939.31 471.62 939.31 532.61 1132.69 532.61 1132.69 443.95 1103.95 443.95"/>
       
            <polygon  data-image="33" data-tip="firstFloorAp6" class="${styles.st0}"  points="1256.82 323.03 1256.82 371.03 1244.13 371.03 1244.13 379.59 1239.08 379.59 1239.08 443.49 1210.65 443.49 1210.65 532.92 1364.89 532.92 1364.89 366.9 1373.15 366.9 1256.82 323.03"/>
          <polygon data-image="34" data-tip="firstFloorAp7" class="${styles.st0}" points="1506.83 367.86 1506.83 392.17 1486.08 384.14 1486.08 424.73 1484.24 424.73 1484.24 481.48 1473.24 481.48 1473.24 493.4 1484.24 493.4 1484.24 504.98 1530.22 504.98 1530.22 532.84 1617.01 532.84 1617.01 501.31 1738.42 500.85 1738.42 493.29 1740.71 493.29 1740.71 480.68 1738.54 480.68 1738.54 455.34 1736.36 455.34 1736.36 424.95 1728.22 424.95 1728.22 416.7 1715.26 416.7 1715.26 395.15 1662.75 395.15 1662.98 412.46 1625.38 412.34 1506.83 367.86"/>
          <polygon data-image="35" data-tip="firstFloorAp8" class="${styles.st0}" points="1740.14 617.11 1740.14 629.26 1738.19 629.26 1738.19 678.79 1727.99 678.79 1727.99 687.16 1715.26 687.16 1715.26 708.25 1662.75 708.25 1662.75 691.06 1632.25 691.06 1571.87 713.62 1571.87 577.55 1617.12 577.55 1617.12 608.74 1738.42 608.74 1738.42 617.11 1740.14 617.11"/>
          <polygon data-image="36" data-tip="firstFloorAp9" class="${styles.st0}" points="1571.87 577.55 1571.87 713.62 1506.48 738.06 1506.83 715.59 1493.41 720.52 1486.08 721.96 1485.96 680.43 1479.24 680.43 1479.24 688.99 1443.46 688.99 1443.46 577.55 1571.87 577.55"/>
          <polygon data-image="37" data-tip="firstFloorAp10" class="${styles.st0}" points="1486.08 721.96 1486.08 735.94 1481.32 735.94 1481.32 752.22 1412.99 752.22 1412.99 736.46 1372.92 736.46 1364.66 739.56 1364.66 723.3 1359.85 723.27 1359.85 629.15 1364.98 629.15 1364.98 616.56 1358.47 616.51 1358.47 577.55 1443.46 577.55 1443.46 688.99 1479.24 688.99 1479.24 680.43 1485.96 680.43 1486.08 721.96"/>
          <polygon data-image="38" data-tip="firstFloorAp11" class="${styles.st0}" points="1359.85 629.15 1359.85 723.27 1364.66 723.3 1364.66 739.56 1256.43 780.25 1256.43 732.1 1244.05 732.1 1244.05 723.62 1231.21 723.62 1231.21 666.52 1202.55 666.52 1202.55 577.55 1358.47 577.55 1358.47 616.51 1364.98 616.56 1364.98 629.15 1359.85 629.15"/>
          <polygon data-image="39" data-tip="firstFloorAp12" class="${styles.st0}" points="942.64 577.1 942.64 617.8 933.81 617.8 933.81 667.13 891.62 667.13 891.62 714.83 931.98 714.83 931.98 748.31 912.94 748.31 912.94 869.34 1059.12 869.34 1059.12 842.85 1091.34 842.85 1091.34 834.71 1103.95 834.71 1103.95 666.41 1132.38 666.41 1132.38 577.1 942.64 577.1"/>
          <polygon data-image="40" data-tip="firstFloorAp13" class="${styles.st0}" points="335.19 454 335.19 453.01 335.19 453.01 335.19 454 931.98 748.31 931.98 714.83 891.62 714.83 891.62 667.13 933.81 667.13 933.81 617.8 857.57 617.8 857.57 616.65 856.19 616.65 856.19 577.1 693.5 577.1 693.5 666.29 721.94 666.29 721.94 835.06 728.36 835.06 728.36 842.62 766.19 842.62 766.19 869.34 912.94 869.34 912.94 748.31 931.98 748.31"/>
          <polygon data-image="41" data-tip="firstFloorAp14" class="${styles.st0}" points="467.26 577.17 467.26 743.11 467.11 908.51 568.99 908.51 568.99 864.87 581.68 864.87 581.68 856.99 593.83 856.99 593.83 666.52 622.57 666.52 622.57 577.17 467.26 577.17"/>
          <polygon data-image="42" data-tip="firstFloorAp15" class="${styles.st0}" points="377.83 577.17 373.32 577.17 373.32 655.67 335.64 655.67 335.34 748.69 336.64 748.69 336.64 761.45 335.34 761.45 335.34 831.54 367.29 831.54 367.29 872.74 312.25 872.74 312.25 911.87 323.87 911.87 323.72 914.32 325.86 914.32 441.58 957.81 441.58 909.58 454.34 909.58 454.34 914.24 467.11 914.24 467.11 908.51 467.26 577.17 377.83 577.17"/><polygon class="cls-2" points="467.26 577.17 467.11 908.51 467.26 743.11 467.26 577.17"/>
          <polygon data-image="43" data-tip="firstFloorAp16" class="${styles.st0}" points="367.29 872.74 367.29 831.54 335.34 831.54 335.34 761.45 336.64 761.45 336.64 748.69 335.34 748.69 335.64 655.67 335.64 633.35 335.26 633.35 335.34 629.22 336.56 629.22 336.56 616.53 212.28 616.53 212.66 914.24 225.2 914.24 225.2 909.58 237.66 909.58 237.66 929.53 285.43 929.53 285.43 914.17 312.25 914.17 312.25 911.87 312.25 872.74 367.29 872.74"/>

        </svg>
          `;


          // <polygon data-image="28" data-tip="firstFloorAp1" class="${styles.st0}" points="335.19 454 335.19 453.01 335.19 453.01 335.19 454 367.59 278.66 367.59 238.96 312.33 238.96 312.33 198.06 312.33 196.08 285.5 196.08 285.5 179.8 237.77 179.8 237.79 200.43 225.04 200.43 225.04 195.92 212.43 195.92 212.43 208.61 212.43 493.48 336.41 493.48 336.41 480.68 335.26 480.68 335.26 476.59 335.8 476.59 335.8 454 335.19 454 335.19 453.01 335.19 453.01 335.49 278.66 367.59 278.66"/>
          // <polygon data-image="29" data-tip="firstFloorAp2" class="${styles.st0}" points="335.19 454 335.19 453.01 335.19 453.01 335.19 454 466.95 240.71 466.95 195.85 454.73 195.85 454.73 200.43 441.58 200.43 441.58 151.82 327.24 195.85 323.8 195.85 323.8 198.06 312.33 198.06 312.33 238.96 367.59 238.96 367.59 278.66 335.49 278.66 335.19 453.01 337.17 453.01 337.17 453.58 359.95 453.58 359.95 452.97 373.52 452.97 373.52 466.8 464.89 466.8 464.89 240.71 466.95 240.71"/>
          // <polygon data-image="30" data-tip="firstFloorAp3" class="${styles.st0}" points="594.14 444.1 594.14 227.64 581.3 227.64 581.3 232.53 568.76 232.53 568.76 188.81 466.95 188.81 466.95 195.85 466.95 240.71 464.89 240.71 464.89 466.8 464.89 532.61 623.49 532.61 623.49 444.1 594.14 444.1"/>
          // <polygon data-image="31" data-tip="firstFloorAp4" class="${styles.st0}" points="933.5 471.62 933.5 435.54 892.23 435.54 892.23 397.02 934.12 397.02 934.12 362.17 912.94 362.17 912.94 227.87 766.42 227.87 766.42 263.72 728.2 263.72 728.2 271.98 722.09 271.98 722.09 443.8 693.5 443.8 693.5 532.61 887.18 532.61 939.31 532.61 939.31 471.62 933.5 471.62"/>
        
        
        

          svgOverlay.innerHTML = svgContent;

          // const floorName = floorNameMapping[imageName] || imageName;
          // const floorApartments = apartmentData[floorName] || [];
          
          
          // floorApartments.forEach(apartment => {
          //   const polygon = svgOverlay.querySelector(`polygon[data-image="${apartment['Apartment No']}"]`);
          //   if (polygon) {
          //     const button = document.createElement('button');
          //     button.textContent = apartment.Bedrooms;
          //     button.className = styles.apartmentButton;
          //     button.style.position = 'absolute';
              
          //     // Calculate the center of the polygon
          //     const bbox = polygon.getBBox();
          //     const centerX = bbox.x + bbox.width / 2;
          //     const centerY = bbox.y + bbox.height / 2;
              
          //     button.style.left = `${centerX}px`;
          //     button.style.top = `${centerY}px`;
              
          //     svgOverlay.appendChild(button);
          //   }
          // });

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });

        }


        if ( imageName === 'groundFloor') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">

          <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>
          <polygon data-image="44" data-tip="penthouse06" class="${styles.st0}" points="333.96 353.15 334.12 340.46 332.89 340.46 332.74 270.14 364.84 270.14 364.84 230.7 309.5 230.7 309.5 188.97 321.12 188.97 321.12 186.68 292.54 186.68 292.54 170.93 234.75 170.93 234.9 191.87 221.72 191.87 221.72 199.9 209.34 199.9 209.34 486.06 334.08 486.06 334.08 473.45 332.7 473.45 332.7 445.59 332.59 353.15 333.96 353.15"/>
            <polyline data-image="45" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45"/><polygon data-image="45" data-tip="penthouse06" class="${styles.st0}" points="452.85 231.31 452.85 218.7 458.82 218.7 458.82 199.78 452.28 199.78 452.28 191.53 439.59 191.53 439.59 148.15 332.13 186.68 321.12 186.68 321.12 188.97 309.5 188.97 309.5 230.7 364.84 230.7 364.84 270.14 332.74 270.14 332.89 340.46 334.12 340.46 333.96 353.15 332.59 353.15 332.7 445.59 370.99 445.59 370.99 459.24 465.24 459.24 465.35 231.31 452.85 231.31"/>
            <polyline data-image="46" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45"/><polygon data-image="46" data-tip="penthouse06" class="${styles.st0}" points="580.46 231.31 580.46 223.52 567.85 223.52 567.85 186.25 465.35 186.25 465.35 231.31 465.24 459.24 465.24 525.43 593.41 525.43 593.41 231.31 580.46 231.31"/>
            <polygon data-image="47" data-tip="penthouse06" class="${styles.st0}" points="892.31 428.05 892.31 387.46 934.5 387.46 934.5 355.59 913.06 355.59 913.06 218.81 765.96 218.81 765.96 255.16 727.67 255.16 727.67 263.64 721.13 263.64 721.13 525.39 887.03 525.39 887.03 483.88 891.85 483.88 891.85 464.51 934.15 464.51 934.5 428.05 892.31 428.05"/>
            <polygon data-image="48" data-tip="penthouse06" class="${styles.st0}" points="1060.38 255.16 1060.38 218.81 913.06 218.81 913.06 355.59 934.5 355.59 934.5 387.46 892.31 387.46 892.31 428.05 934.5 428.05 934.15 464.51 934.15 483.77 939.43 483.77 939.43 525.39 1104.98 525.39 1104.98 255.16 1060.38 255.16"/>
            <polygon data-image="49" data-tip="penthouse06" class="${styles.st0}" points="1510.15 349.17 1510.15 377.38 1489.4 373.59 1489.4 417.27 1487.22 417.27 1487.22 473.11 1488.94 473.11 1488.94 484.12 1535.49 484.12 1535.49 525.62 1621.02 525.62 1621.02 493.63 1742.78 493.63 1742.78 485.95 1745.07 485.95 1745.07 473.34 1742.78 473.34 1742.78 448 1740.83 448 1740.83 417.27 1732.46 417.27 1732.46 408.79 1719.5 408.79 1719.5 387.12 1510.15 349.17"/>
            <polygon data-image="50" data-tip="penthouse06" class="${styles.st0}" points="1743.08 609.66 1743.08 602.32 1621.1 602.32 1621.1 570.22 1576.15 570.22 1576.15 727.72 1719.39 702.29 1719.39 680.83 1720.45 680.83 1720.88 681.25 1728.73 681.25 1728.73 679.98 1732.84 679.98 1732.84 672.02 1743.08 672.02 1743.08 622.34 1745.38 622.34 1745.38 609.66 1743.08 609.66"/>
            <polygon data-image="51" data-tip="penthouse06" class="${styles.st0}" points="1446.22 570.22 1446.22 685.63 1482.75 685.63 1482.87 673.86 1489.17 673.8 1489.4 715.9 1509.81 712.23 1510.12 739.44 1576.15 727.72 1576.15 570.22 1446.22 570.22"/><polyline data-image="51" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45"/>
            <polygon data-image="52" data-tip="penthouse06" class="${styles.st0}" points="1489.4 715.9 1489.4 729.81 1484.13 729.81 1484.13 744.48 1361.22 765.93 1361.22 729.35 1367.34 729.35 1367.34 717.12 1361.22 717.12 1361.22 622.34 1367.34 622.34 1367.34 610.11 1361.22 610.11 1361.22 570.22 1446.22 570.22 1446.22 685.63 1482.75 685.63 1482.87 673.86 1489.17 673.8 1489.4 715.9"/>
            <polygon data-image="53" data-tip="penthouse06" class="${styles.st0}" points="1361.22 622.34 1361.22 717.12 1367.34 717.12 1367.34 729.35 1361.22 729.35 1361.22 765.93 1258.96 783.77 1258.96 729.66 1245.96 729.66 1245.96 717.12 1233.43 717.12 1233.43 570.22 1361.22 570.22 1361.22 610.11 1367.34 610.11 1367.34 622.34 1361.22 622.34"/>
            <path data-image="54" data-tip="penthouse06" class="${styles.st0}" d="M1105.32,570.1H943.55v41.16h-9V661H893.68v47.46H934.5v34.4H913.29V864h147.15V837.57l27.52-.33c.68.74,2.92,0,2.92,0,2-1,4.76-4.65,4.76-4.65.91-1,.17-3.61.17-3.61h9.51Z"/><polyline data-image="54" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45"/>
            <polygon data-image="55" data-tip="penthouse06" class="${styles.st0}" points="934.5 742.88 934.5 708.48 893.68 708.48 893.68 661.02 934.5 661.02 934.5 611.26 856.65 611.26 856.65 609.31 856.65 570.1 721.25 570.1 721.25 829.55 727.9 829.55 727.9 837.12 766.42 837.12 766.42 863.95 913.29 863.95 913.29 742.88 934.5 742.88"/>
            <polygon data-image="56" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45 465.58 570.45 464.82 638.7 465.35 851.34 465.35 898.34 567.62 898.34 567.62 859.59 580.46 859.59 580.46 851.34 593.41 851.34 593.41 570.45 465.58 570.45"/>
            <polygon data-image="57" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45 370.88 638.7 370.88 650.01 333.96 650.01 332.36 825.66 364.92 825.66 364.92 867.16 309.88 867.16 309.88 908.66 332.59 908.66 439.44 947.87 438.98 903.85 453.2 903.85 453.2 896.05 458.7 896.05 458.7 863.95 452.28 863.95 452.28 851.34 465.35 851.34 464.82 638.7 370.88 638.7"/>
            <polygon data-image="58" data-tip="penthouse06" class="${styles.st0}" points="370.88 638.7 464.82 638.7 465.58 570.45 364.92 867.16 364.92 825.66 332.36 825.66 333.96 650.01 333.96 609.89 208.99 609.89 208.99 896.51 222.52 896.51 222.52 904.54 234.9 904.54 234.9 924.48 292.23 924.48 292.23 908.66 309.88 908.66 309.88 867.16 364.92 867.16"/>

            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          // const floorApartments = apartmentData[imageName] || [];
          // floorApartments.forEach(apartment => {
          //   const polygon = svgOverlay.querySelector(`polygon[data-image="${apartment['Apartment No']}"]`);
          //   if (polygon) {
          //     const button = document.createElement('button');
          //     button.textContent = apartment.Bedrooms;
          //     button.className = styles.apartmentButton;
          //     button.style.position = 'absolute';
              
          //     // Calculate the center of the polygon
          //     const bbox = polygon.getBBox();
          //     const centerX = bbox.x + bbox.width / 2;
          //     const centerY = bbox.y + bbox.height / 2;
              
          //     button.style.left = `${centerX}px`;
          //     button.style.top = `${centerY}px`;
              
          //     svgOverlay.appendChild(button);
          //   }
          // });
          
          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          // Add click event listeners to polygons
          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });



        }


        if ( imageName === 'basement1') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
 
            <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>

          <path data-image="59" data-tip="groundFloorAp1" class="${styles.st0}" d="M182.21,178.13H208V161.28l67.15-.29.09,16,8.59,0v42.48h53.11v39.83H305V475H182.21Z"/>
        <polygon data-image="60" data-tip="penthouse06" class="${styles.st0}" points="283.83 177.01 315.81 177.01 413.28 143.06 413.28 181.19 436.94 181.19 436.94 514.89 345.11 514.89 345.11 434.21 305.02 434.21 305.02 259.32 336.94 259.32 336.94 219.49 283.83 219.49 283.83 177.01"/>
        <polygon data-image="61" data-tip="penthouse06" class="${styles.st0}" points="436.94 180 540.6 180 540.97 180 540.97 213.11 553.7 213.11 553.7 221.7 565.53 221.7 565.53 514.89 436.94 514.89 436.94 180"/>
        <polygon data-image="62" data-tip="penthouse06" class="${styles.st0}" points="565.53 213.62 584.98 213.62 584.98 185.66 684.68 185.66 684.68 209.28 695.49 209.28 695.49 514.89 565.53 514.89 565.53 213.62"/>
        <polygon data-image="63" data-tip="penthouse06" class="${styles.st0}" points="695.49 245.28 739.32 245.28 739.32 209.02 831.23 209.02 830.6 514.89 695.49 514.89 695.49 245.28"/>
        <polygon data-image="64" data-tip="penthouse06" class="${styles.st0}" points="942.04 208.77 1033.45 208.77 1033.45 244.77 1076.09 244.77 1076.09 298 1076.09 514.47 943 514.47 942.04 208.77"/>
        <polygon data-image="65" data-tip="penthouse06" class="${styles.st0}" points="1097.28 271.32 1167.36 271.32 1167.36 296.08 1206.47 296.08 1206.47 305.28 1217.53 305.28 1217.53 320.6 1217.53 514.89 1076.09 514.89 1076.09 298 1097.53 298 1097.28 271.32"/>
        <polygon data-image="66" data-tip="penthouse06" class="${styles.st0}" points="1232.09 323.06 1232.09 295.4 1296.68 307.15 1334.3 313.62 1334.3 514.89 1217.53 514.89 1217.53 319.92 1232.09 323.06"/>
        <path data-image="67" data-tip="penthouse06" class="${styles.st0}" d="M1334.3,313.62l128.21,22.55,0,69h-43.92l.34,109.32H1334.3Z"/>
        <path data-image="68" data-tip="penthouse06" class="${styles.st0}" d="M1483.23,339.66l66.9,11.91V514.89H1418.89V405.15h43.58q0-21,0-42l20.73,3.63Z"/>
        <polygon data-image="69" data-tip="penthouse06" class="${styles.st0}" points="1550.13 351.57 1692.6 376.94 1692.6 398.64 1705.96 398.64 1705.96 407.06 1715.23 407.06 1718.55 407.06 1718.55 482.6 1593.11 482.6 1593.11 514.89 1550.13 514.89 1550.13 351.57"/>       
        <path data-image="70" data-tip="penthouse06" class="${styles.st0}" d="M1550.13,718l142.47-25.11,0-21.83,13.41-.19q-.11-4.27-.19-8.55l12.78.06V593.23H1593.11V560.94h-43Z"/>
        <path data-image="71" data-tip="penthouse06" class="${styles.st0}" d="M1483.27,729.79,1550.13,718v-157H1418.89V670.68h43.58q0,17.9,0,35.79l20.91-3.83Q1483.34,716.22,1483.27,729.79Z"/>
        <path data-image="72" data-tip="penthouse06" class="${styles.st0}" d="M1334.3,756l128.21-22.65q0-31.32,0-62.64h-43.92l.34-109.32H1334.3Z"/>
        <path data-image="73" data-tip="penthouse06" class="${styles.st0}" d="M1231.83,719.66q.12,27.2.23,54.38L1334.3,756v-195H1217.53v159Z"/>
        <path data-image="74" data-tip="penthouse06" class="${styles.st0}" d="M1097.32,788.68l70-.08V764l39.07.13.12-44.18h11v-159H1076.09V760.09h21.09Q1097.26,774.39,1097.32,788.68Z"/>
        <path data-image="75" data-tip="penthouse06" class="${styles.st0}" d="M954,854l79.43.17.06-26.64,32.35.21-.09-8.64,10.3.17V561.36H953.53Z"/>
        <path data-image="76" data-tip="penthouse06" class="${styles.st0}" d="M695.49,827.49h44.25q-.13,13.28-.28,26.55h79.77V560.94H695.49Z"/>
        <path data-image="77" data-tip="penthouse06" class="${styles.st0}" d="M565.53,849.36l19.83.09-.27,28.73,99.59,0q.06-12,.13-24l10.68,0V560.94h-130Z"/>
        <path data-image="78" data-tip="penthouse06" class="${styles.st0}" d="M436.94,883.49l104,0-.13-33.58H553.7v-8.42h11.75q0-140.26.08-280.51H436.94Z"/>
        <path data-image="79" data-tip="penthouse06" class="${styles.st0}" d="M283.83,898.82h32l97.08,34.67V894l24.05.6V560.94H345.11v80.68H305V816.51h31.92v39.83H283.83Z"/>
        <path data-image="80" data-tip="penthouse06" class="${styles.st0}" d="M182.21,886.29H195.3l-.07,8.06,12.83-.13L208,914.55l67.15.29.09-16.05,8.59,0V856.34h53.11V816.51H305V600.85H182.21Z"/>

            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          // Add click event listeners to polygons
          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });

        }

        if ( imageName === 'basement3') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
          <polyline
                  data-image="81"
                  data-tip="penthouse06"
                  class="${styles.st0}"
                  points="211.91 198.55 224.85 198.55 224.85 169.96 311.15 169.96 311.15 193.96 354.55 193.96 354.55 240.25 300.77 240.25 300.77 276.34 321.53 276.34 321.53 495.83 203.66 495.83 203.66 492.94 199.19 492.81 199.19 206.6 211.91 206.6"
                  onMouseEnter={() => handleMouseEnter({ image: "81", tip: "penthouse06" })}
                  onMouseLeave={handleMouseLeave}
                />       
   
        
        <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>
        <polygon data-image="82" data-tip="penthouse06" fill=#006d77 class="${styles.st0}" points="429.49 169.96 429.49 198.81 453.49 198.81 454.21 198.81 454.21 465.3 410.6 465.3 410.6 451.57 321.53 451.57 321.53 276.34 300.77 276.34 300.77 240.25 354.55 240.25 354.55 193.96 354.55 193.45 429.49 169.96"/>
        <polygon data-image="83" data-tip="penthouse06" class="${styles.st0}" points="454.21 203.34 557.45 203.34 557.45 230.72 582.13 230.72 582.13 531.66 454.21 531.66 454.21 203.34"/>
        <polygon data-image="84" data-tip="penthouse06" fill=#006d77 class="${styles.st0}" points="601.83 202 685.32 202 685.32 226 712.64 226 712.64 531.66 582.13 531.66 582.13 230.72 601.79 230.72 601.83 202"/>
        <path data-image="85" data-tip="penthouse06" fill=#006d77 class="${styles.st0}" d="M712.64,226H756v12.73h44.3V361.28h52.43V485.19h-6.3v46.47H712.64Z"/>
        <polygon data-image="86" data-tip="penthouse06" class="${styles.st0}" points="1002.38 238.55 1002.38 361.28 952.51 361.28 952.51 444.34 970.38 444.34 970.38 531.66 846.47 531.66 846.47 485.19 852.77 485.19 852.77 361.28 800.34 361.28 800.34 238.73 1002.38 238.55"/>
        <polygon data-image="87" data-tip="penthouse06" class="${styles.st0}" points="1050.38 238.55 1050.38 225.96 1095.2 225.96 1095.2 531.66 970.38 531.66 970.38 444.34 952.51 444.34 952.51 361.28 1002.38 361.28 1002.38 238.55 1050.38 238.55"/>
        <polygon data-image="88" data-tip="penthouse06" class="${styles.st0}" points="1213.45 298 1213.45 325.83 1196.47 325.83 1196.47 531.66 1095.2 531.66 1095.2 465.11 1111.91 465.11 1111.91 378.49 1095.2 378.49 1095.2 325.53 1113.7 325.53 1113.7 298 1213.45 298"/>
        <polyline data-image="89" data-tip="penthouse06" class="${styles.st0}" points="1223.21 325.64 1223.21 371.57 1248.68 371.57 1248.68 366.04 1314.04 366.04 1314.04 531.66 1196.47 531.66 1196.47 325.83 1213.45 325.83 1213.45 322 1223.21 322 1223.21 325.64"/>
        <polygon data-image="90" data-tip="penthouse06" class="${styles.st0}" points="1438.26 365.79 1438.26 459.32 1412.26 459.32 1412.26 531.66 1314.04 531.66 1314.04 366.04 1438.26 365.79"/>
        <polygon data-image="91" data-tip="penthouse06" class="${styles.st0}" points="1474.38 365.79 1474.38 416.21 1499.91 416.21 1499.91 411.49 1566.98 411.49 1566.98 531.66 1412.26 531.66 1412.26 459.32 1438.26 459.32 1438.26 365.79 1474.38 365.79"/>
        <polygon data-image="92" data-tip="penthouse06" class="${styles.st0}" points="1709.53 411.49 1709.53 417.28 1734.89 417.28 1734.89 493.11 1728.77 493.11 1728.77 497.36 1602.81 497.36 1602.81 531.66 1566.98 531.66 1566.98 411.49 1709.53 411.49"/>
        <path data-image="93" data-tip="penthouse06" class="${styles.st0}" d="M1709.53,692.09l-.06-5.62h25.85l-.21-71.75-4.26.09.09-2H1602.81v-34.3H1567V692Z"/>
        <path data-image="94" data-tip="penthouse06" class="${styles.st0}" d="M1474.38,736.94q0-24.74,0-49.45l25.64,0c0,1.51,0,3,0,4.53h67V578.47H1412.26v72.34h26V737Z"/>
        <path data-image="95" data-tip="penthouse06" class="${styles.st0}" d="M1438.26,737V650.81h-26V578.47H1314V737Z"/>
        <path data-image="96" data-tip="penthouse06" class="${styles.st0}" d="M1223.29,737.5l12.62,0v-4.88l12.8,0V737l65.34,0V578.47H1196.47V779.32l17.23-.21c0,.82,0,1.64,0,2.46l4.72,0,4.83,0Z"/>
        <path data-image="97" data-tip="penthouse06" class="${styles.st0}" d="M1213.45,805.51q.12-13.2.25-26.4l-17.23.21V578.47H1095.2V645h16.71v86.62H1095.2v45.15h18.54l0,29Z"/>
        <path data-image="98" data-tip="penthouse06" class="${styles.st0}" d="M1050.38,871.28l44.82,0V578.47H970.38v87.32H952.51v83.06h49.87V871.26Z"/>
        <path data-image="99" data-tip="penthouse06" class="${styles.st0}" d="M1002.38,871.26V748.85H952.51V665.79h17.87V578.47H845.28q0,23.16,0,46.34l7.54.13V748.85H800.34v122.4Z"/>
        <path data-image="100" data-tip="penthouse06" class="${styles.st0}" d="M712.64,871.22l43.4,0q22.15,0,44.3.06V748.85h52.43V624.94l-7.54-.13q0-23.17,0-46.34H712.64Z"/>
        <path data-image="101" data-tip="penthouse06" class="${styles.st0}" d="M601.83,895.19h83.63l0-23.93,27.16,0V578.47H582.13V866.72l19.7-.32Z"/>
        <path data-image="102" data-tip="penthouse06" class="${styles.st0}" d="M454.21,893.79l103.24.17-.09-27.41,13,0v-8l11.77,0V578.47H454.21Z"/>
        <polygon data-image="103" data-tip="penthouse06" class="${styles.st0}" points="429.49 940.17 429.49 911.32 453.49 911.32 454.21 911.32 454.21 644.83 410.6 644.83 410.6 658.55 321.53 658.55 321.53 833.79 300.77 833.79 300.77 869.87 354.55 869.87 354.55 916.17 354.55 916.68 429.49 940.17"/>
        <polyline data-image="104" data-tip="penthouse06" class="${styles.st0}" points="211.91 911.57 224.85 911.57 224.85 940.17 311.15 940.17 311.15 916.17 354.55 916.17 354.55 869.87 300.77 869.87 300.77 833.79 321.53 833.79 321.53 614.3 203.66 614.3 203.66 617.19 199.19 617.32 199.19 903.53 211.91 903.53"/>

            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          // Add click event listeners to polygons
       
          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });

        }

        if ( imageName === 'basement4') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
          
          
          <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>

          <polygon data-image="105" data-tip="penthouse06" class="${styles.st0}" points="208 213.48 207.85 378.06 381.2 378.06 381.2 302.85 341.53 302.85 341.53 213.51 208 213.48"/>
        <polygon data-image="106" data-tip="penthouse06" class="${styles.st0}" points="341.53 213.51 472.15 213.51 472.15 423.31 379.82 423.31 379.82 379.29 379.82 302.85 341.53 302.85 341.53 213.51"/>
        <polygon data-image="107" data-tip="penthouse06" class="${styles.st0}" points="472.15 213.51 515.57 213.51 515.57 276.71 500.89 276.71 500.89 303.77 543.24 303.77 543.24 341.99 604.99 341.99 604.99 423.31 472.15 423.31 472.15 213.51"/>
        <polygon data-image="108" data-tip="penthouse06" class="${styles.st0}" points="515.57 213.51 649.71 213.51 649.71 423.31 604.99 423.31 604.99 341.99 543.24 341.99 543.24 303.77 559.59 303.77 559.59 277.06 515.57 277.06 515.57 213.51"/>
        <polygon data-image="109" data-tip="penthouse06" class="${styles.st0}" points="799.59 213.51 799.59 244.46 778.19 244.46 778.19 346.42 755.57 346.42 755.57 423.46 649.71 423.46 649.71 213.51 799.59 213.51"/>
        <polygon data-image="110" data-tip="penthouse06" class="${styles.st0}" points="755.57 423.46 891.01 423.46 891.01 308.36 799.59 308.36 799.59 346.88 755.57 346.88 755.57 423.46"/>
        <polygon data-image="111" data-tip="penthouse06" class="${styles.st0}" points="799.59 213.51 942.67 213.51 942.67 423.46 891.01 423.46 891.01 308.36 799.59 308.36 799.59 213.51"/>
        <polygon data-image="112" data-tip="penthouse06" class="${styles.st0}" points="942.67 423.46 990.06 423.46 990.06 352.23 1050.29 352.23 1050.29 423.46 1093.71 423.46 1093.71 377.61 1099.06 377.61 1099.06 363.08 1093.55 363.08 1093.55 213.58 1045.1 213.58 1045.1 264.02 995.41 264.02 995.41 213.58 942.67 213.58 942.67 423.46"/>
        <polygon data-image="113" data-tip="penthouse06" class="${styles.st0}" points="1587.16 658.96 1684.38 658.96 1684.38 416.28 1585.94 416.28 1587.16 658.96"/>
        <rect data-image="114" data-tip="penthouse06" class="${styles.st0}" x="1493.99" y="475.29" width="93.17" height="183.67"/>
        <polygon data-image="115" data-tip="penthouse06" class="${styles.st0}" points="1358.93 475.29 1493.99 475.29 1493.99 658.96 1419.01 658.96 1419.01 654.37 1396.54 654.37 1396.54 644.05 1389.2 644.05 1389.2 656.43 1358.93 656.43 1358.93 475.29"/>
        <polygon data-image="116" data-tip="penthouse06" class="${styles.st0}" points="1241.61 475.29 1358.93 475.29 1358.93 656.43 1389.2 656.43 1389.2 644.79 1389.2 710.32 1368.33 710.32 1368.33 738.06 1263.54 738.06 1263.54 708.37 1288.54 708.37 1288.54 654.37 1241.61 654.37 1241.61 651.62 1262.39 651.62 1262.39 551.64 1241.61 551.64 1241.61 475.29"/>
        <path data-image="117" data-tip="penthouse06" class="${styles.st0}" d="M1134.37,814.19s107.24.23,107.24,0V475.29H1097.83v101.5h-20.48v95.39h57Z"/>
        <polygon data-image="118" data-tip="penthouse06" class="${styles.st0}" points="902.01 813.43 1134.37 814.19 1134.37 672.18 1077.35 672.18 1077.35 576.79 1097.83 576.79 1097.83 475.29 1055.34 475.29 1055.34 528.94 962.24 528.94 962.24 671.87 902.01 671.87 902.01 813.43"/>
        <polygon data-image="119" data-tip="penthouse06" class="${styles.st0}" points="799.9 475.29 954.45 475.29 954.45 520.69 956.39 520.69 956.39 528.6 962.24 528.6 962.24 671.87 902.01 671.87 902.01 813.43 798.29 813.43 799.9 475.29"/>
        <polygon data-image="120" data-tip="penthouse06" class="${styles.st0}" points="649.71 475.29 799.9 475.29 799.9 550.73 778 550.73 778.23 562.76 777.89 654.94 799.9 654.94 798.29 813.96 750.37 813.96 750.37 841.48 672.18 841.48 672.18 808.46 649.71 808.46 649.71 475.29"/>
        <polygon data-image="121" data-tip="penthouse06" class="${styles.st0}" points="503.03 834.6 621.27 834.6 621.27 814.19 649.71 814.19 649.71 475.29 503.03 475.29 503.03 551.26 503.03 834.6"/>
        <polygon data-image="122" data-tip="penthouse06" class="${styles.st0}" points="350.78 567.47 451.06 567.47 451.06 551.26 502.27 551.26 503.03 799.06 503.03 865.4 488.05 865.4 488.05 860.36 473.53 860.36 473.53 888.18 379.67 865.86 351.85 865.86 351.85 863.11 386.85 863.11 386.85 812.05 325.71 812.05 325.71 769.25 350.47 769.25 350.47 688.23 352.08 688.23 352.08 673.86 350.78 673.86 350.78 567.47"/>
        <polygon data-image="123" data-tip="penthouse06" class="${styles.st0}" points="208 516.1 350.55 516.1 350.55 520.69 352.08 520.69 352.08 535.36 350.78 535.36 350.78 569.45 350.78 673.86 352.08 673.86 352.08 688.23 350.47 688.23 350.47 769.25 325.71 769.25 325.71 812.05 386.85 812.05 386.85 863.11 351.85 863.11 351.85 865.55 348.02 865.55 348.02 894.9 237.5 894.9 237.5 860.05 222.06 860.05 222.06 851.03 208.31 851.03 208 516.1"/>

            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          // Add click event listeners to polygons
        
          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });

        }


        if ( imageName === 'basement5') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg       ref=${svgRef} xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
           <rect data-image="124" data-tip="penthouse06" class="${styles.st0}" x="194.09" y="355.44" width="227.16" height="171.06"/>
          
          
           <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>
           <polygon data-image="125" data-tip="penthouse06" class="${styles.st0}" points="194.09 526.5 194.09 722.32 250.5 722.32 250.5 690.52 421.25 690.52 421.25 526.5 194.09 526.5"/>
          <polygon data-image="126" data-tip="penthouse06" class="${styles.st0}" points="421.25 575.72 465.43 575.72 465.43 810.06 390.52 810.06 390.52 831.47 232.46 831.47 232.46 802.73 213.35 802.73 213.35 810.06 194.09 810.06 194.09 722.32 250.5 722.32 250.5 690.52 421.25 690.52 421.25 575.72"/>
          <polygon data-image="127" data-tip="penthouse06" class="${styles.st0}" points="465.43 806.55 465.43 812.05 539.41 831.47 539.41 810.06 539.41 802.88 558.67 802.88 558.67 809.91 577.94 809.91 577.94 764.2 687.08 764.2 687.08 578.17 677.61 578.17 677.61 515.03 649.48 515.03 649.48 491.19 577.02 491.19 577.02 457.55 479.03 457.55 479.03 574.8 465.43 574.8 465.43 806.55"/>
          <polygon data-image="128" data-tip="penthouse06" class="${styles.st0}" points="647.64 443.49 814.42 443.49 814.42 742.88 798.02 742.71 798.12 735.54 770.55 735.31 770.55 742.88 750.83 742.88 750.83 735.77 732.25 735.77 732.25 764.2 687.08 764.2 687.08 578.17 677.61 578.17 677.61 515.03 649.48 515.03 649.48 491.19 647.64 491.19 647.64 443.49"/>
          <polygon data-image="129" data-tip="penthouse06" class="${styles.st0}" points="814.42 443.49 937.71 443.49 937.71 533.76 963.85 533.76 963.85 690.14 971.64 690.14 971.64 742.53 903.66 742.53 903.66 778.53 798.41 778.53 798.02 742.71 814.42 742.88 814.42 443.49"/>
          <polyline data-image="130" data-tip="penthouse06" class="${styles.st0}" points="963.85 533.76 963.85 443.49 1098.22 443.49 1098.22 577.55 1076.2 577.55 1076.2 640.84 1136.74 640.84 1136.74 738.06 1028.97 738.06 1028.97 702.06 971.64 702.06 971.64 690.14 963.85 690.14 963.85 533.76"/>
          <polygon data-image="131" data-tip="penthouse06" class="${styles.st0}" points="1098.22 443.49 1250.13 443.49 1250.13 509.45 1218.26 509.45 1218.26 579.62 1250.82 579.62 1250.82 738.06 1136.74 738.06 1136.74 640.84 1076.2 640.84 1076.2 577.55 1098.22 577.55 1098.22 443.49"/>
          <polygon data-image="132" data-tip="penthouse06" class="${styles.st0}" points="1250.13 443.49 1401.12 443.49 1401.12 577.55 1362.83 577.55 1362.83 641.3 1422.9 641.3 1422.9 704.13 1362.83 704.13 1362.83 738.06 1250.82 738.06 1250.82 579.62 1281.66 579.62 1281.66 508.99 1250.13 508.99 1250.13 443.49"/>
          <polygon data-image="133" data-tip="penthouse06" class="${styles.st0}" points="1536.41 443.49 1401.12 443.49 1401.12 577.55 1362.83 577.55 1362.83 641.3 1422.9 641.3 1422.9 704.13 1362.83 704.13 1362.83 738.06 1470.6 738.06 1470.6 702.75 1518.75 702.75 1518.75 708.94 1538.01 708.94 1536.41 443.49"/>
          <polygon data-image="134" data-tip="penthouse06" class="${styles.st0}" points="1744.61 366.83 1562.78 366.83 1562.78 532.61 1536.95 532.61 1537.35 601.11 1565.99 601.25 1566.06 644.51 1671.69 644.51 1671.69 608.05 1744.61 608.05 1744.61 366.83"/>

            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          // Add click event listeners to polygons
   
          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });


        }


        if ( imageName === 'basement6') {
          const svgOverlay = document.createElement('div');
          svgOverlay.style.position = 'absolute';
          svgOverlay.style.left = '0';
          svgOverlay.style.top = '0';
          svgOverlay.style.width = '100%';
          svgOverlay.style.height = '100%';

          const svgContent = `
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10000 10000" preserveAspectRatio="none">
            <text class="${styles.st1}" transform="translate(881.77 101.41)">Road View</text><path  class="${styles.st1}" d="M821.94,65.58a3.47,3.47,0,0,1,.66.79c.24.59-.06,1.08-.73,1.45-1.63.9-3.28,1.78-4.88,2.74a13.29,13.29,0,0,0-3.68,3.17,3.25,3.25,0,0,0,.34,4.89,14.67,14.67,0,0,0,5,3c2,.77,4,1.42,6,2.16a18.82,18.82,0,0,1,8.16,5.47,15.37,15.37,0,0,1,3.49,9.67A29,29,0,0,1,834,110.29c-.34.88-.76,1.72-1.1,2.6a4,4,0,0,1-2.77,2.71h-15c-.32-.24-.6-.51-.44-1s.54-.5,1-.5c3.12,0,6.25,0,9.37,0a.82.82,0,0,0,.78-.43,34.32,34.32,0,0,0,5-10.66c.15-.63.25-1.28.38-1.92a2,2,0,0,1,0-.24c.11-.5.42-.74.84-.67a.72.72,0,0,1,.6.9,23.92,23.92,0,0,1-1.66,6.05,39,39,0,0,1-3.39,6.46l-.31.49c.9,0,1.73,0,2.55,0a1.68,1.68,0,0,0,1.41-1.07,37.92,37.92,0,0,0,3-8.66,20.83,20.83,0,0,0,.31-7.75,13.63,13.63,0,0,0-6.74-9.73,30.63,30.63,0,0,0-6.64-2.76,26.69,26.69,0,0,1-7.49-3.55,7.54,7.54,0,0,1-2.3-2.5,4.05,4.05,0,0,1-.43-2.73.78.78,0,0,0,0-.37,3.59,3.59,0,0,0-.47,3,6,6,0,0,0,2.16,2.88,22.51,22.51,0,0,0,6,3.28,52,52,0,0,1,6.43,2.64,14.81,14.81,0,0,1,6.48,6.48,12.75,12.75,0,0,1,1.11,3.92,1.41,1.41,0,0,1,0,.58.67.67,0,0,1-.76.48c-.42,0-.58-.33-.67-.72a22.18,22.18,0,0,0-.66-2.79,11.93,11.93,0,0,0-4.91-5.88A28.1,28.1,0,0,0,819.42,86a26.16,26.16,0,0,1-7.24-3.63,11.16,11.16,0,0,1-2.09-2,5.18,5.18,0,0,1-.5-6,13.13,13.13,0,0,1,4.09-4.39c1.4-1,2.89-1.91,4.32-2.86a8.19,8.19,0,0,0-4.14.64,63.71,63.71,0,0,0-9.53,5.79A19.86,19.86,0,0,0,799.84,78a6.76,6.76,0,0,0-1.25,3.23A5.58,5.58,0,0,0,800.74,86c.81.73,1.75,1.3,2.61,2a37.17,37.17,0,0,1,3.47,2.76,8.7,8.7,0,0,1,1.88,10.54,22,22,0,0,1-4.88,6.53,52.56,52.56,0,0,1-7.35,5.87l-.72.49h15.92c.42,0,.79,0,1,.5s-.11.73-.45,1H789.7a4.35,4.35,0,0,1-.7-.57,1.64,1.64,0,0,1,.42-2.46c1.51-1,3.05-1.92,4.54-2.94a41.21,41.21,0,0,0,7.29-6.09,14.81,14.81,0,0,0,2.77-4,5.81,5.81,0,0,0-1-6.61,16.3,16.3,0,0,0-3-2.52,29.59,29.59,0,0,1-3.37-2.63,6.4,6.4,0,0,1-2.12-5.35,8.05,8.05,0,0,1,1.5-3.81,20.17,20.17,0,0,1,5.25-5,99.7,99.7,0,0,1,12.4-7.33,18.37,18.37,0,0,1,1.76-.62ZM797.49,79A6.61,6.61,0,0,0,796,82.5a5,5,0,0,0,1.7,4.24,27.46,27.46,0,0,0,3.08,2.38,17,17,0,0,1,3.49,2.94A7.14,7.14,0,0,1,806,97.88a10,10,0,0,1-1.52,3.87,26.78,26.78,0,0,1-6,6.38,78,78,0,0,1-8,5.52,2.79,2.79,0,0,0-.42.35l.08.14h2.77a.63.63,0,0,0,.31-.12,57.3,57.3,0,0,0,9.54-7.16,19.48,19.48,0,0,0,4.67-6.24,7.46,7.46,0,0,0-1-8.18,15.78,15.78,0,0,0-3.89-3.3,22.92,22.92,0,0,1-2.4-1.74c-2.55-2.19-3.81-4.89-2.5-8.28V79Z"/><path class="${styles.st1}" d="M819.85,97.92c0-.2,0-.39,0-.59a.74.74,0,0,1,.67-.76.71.71,0,0,1,.77.66,10.29,10.29,0,0,1,0,1.36.65.65,0,0,1-.73.63.68.68,0,0,1-.71-.67c0-.21,0-.42,0-.63Z"/><path class="${styles.st1}" d="M802.89,79.75c0-.45.12-.82.6-1a.72.72,0,0,1,.88.62c0,.4.09.81.11,1.22a.69.69,0,0,1-.58.78.69.69,0,0,1-.84-.55C803,80.5,803,80.12,802.89,79.75Z"/><path class="${styles.st1}"  d="M811.68,87.55c0,.66-.51,1-1,.82a8,8,0,0,1-1.2-.63.67.67,0,0,1-.26-.93.69.69,0,0,1,1-.33,7.87,7.87,0,0,1,1.11.59A1.65,1.65,0,0,1,811.68,87.55Z"/><path class="${styles.st1}"  d="M816.71,105.82c.15.13.42.25.51.45a.86.86,0,0,1,0,.72,5.9,5.9,0,0,1-.94,1.06.6.6,0,0,1-.88,0c-.17-.2-.33-.64-.23-.8a8.85,8.85,0,0,1,1.14-1.31C816.36,105.88,816.5,105.88,816.71,105.82Z"/><path class="${styles.st1}" d="M816.27,90a.74.74,0,0,1-1,.8A8,8,0,0,1,814,90a.66.66,0,0,1-.14-.92.63.63,0,0,1,.84-.31,8.51,8.51,0,0,1,1.29.78C816.17,89.65,816.22,89.87,816.27,90Z"/><path class="${styles.st1}"  d="M818.59,91.91l.21,0c.34.11,1.24,1.23,1.18,1.58a1,1,0,0,1-.4.69.8.8,0,0,1-.75-.09,5.29,5.29,0,0,1-.91-1.19A.71.71,0,0,1,818.59,91.91Z"/><path class="${styles.st1}" d="M805.74,74.18a.73.73,0,0,1,.65,1.14,9,9,0,0,1-.83,1,.68.68,0,0,1-.89.12.6.6,0,0,1-.3-.83,9.83,9.83,0,0,1,1.08-1.35C805.52,74.2,805.69,74.2,805.74,74.18Z"/><path class="${styles.st1}"  d="M807.37,85c-.12.15-.24.42-.44.51a.86.86,0,0,1-.72,0,4.54,4.54,0,0,1-1.05-1,.9.9,0,0,1,0-.83.86.86,0,0,1,.78-.24,9.46,9.46,0,0,1,1.29,1.16C807.32,84.66,807.31,84.81,807.37,85Z"/><path class="${styles.st1}"  d="M819.06,104.08a.74.74,0,0,1-.79-1,9.25,9.25,0,0,1,.6-1.12.67.67,0,0,1,.89-.27.65.65,0,0,1,.41.84,8.2,8.2,0,0,1-.73,1.37C819.36,104,819.13,104,819.06,104.08Z"/><path class="${styles.st1}" d="M810,72a1.25,1.25,0,0,1-1.49,1,.67.67,0,0,1-.43-.82,1.45,1.45,0,0,1,1.32-.86A.65.65,0,0,1,810,72Z"/><path class="${styles.st1}" d="M813.64,110.26a1.45,1.45,0,0,1-1.23,1.07.74.74,0,0,1-.7-.74,1.48,1.48,0,0,1,1.24-1.07A.72.72,0,0,1,813.64,110.26Z"/><text class="${styles.st1}" transform="translate(947.1 1004.14)">Hill View</text><path class="${styles.st1}" d="M881.78,1010.91H845.17a4.84,4.84,0,0,1-.85,0,.73.73,0,0,1-.54-1.07,3.2,3.2,0,0,1,.3-.45q4.24-5.88,8.49-11.77a1.49,1.49,0,0,1,1.42-.74,17.11,17.11,0,0,0,2.48,0,1.39,1.39,0,0,0,.86-.45q2.31-3.12,4.54-6.3a1.46,1.46,0,0,1,1.37-.68c1,0,2.07,0,3.11,0a1.17,1.17,0,0,0,1.09-.54c3.13-4.12,6.29-8.22,9.44-12.33.85-1.11,1.1-1.12,2-.1q5.15,5.67,10.26,11.36a1.44,1.44,0,0,0,1.2.51c1.27,0,2.54-.05,3.81,0a2.08,2.08,0,0,1,1.21.5c2.08,2,4.12,4,6.2,6a1.79,1.79,0,0,0,1.13.46c1.53.05,3.06,0,4.58.05a1.9,1.9,0,0,1,1.24.58q5.47,6.66,10.88,13.38c.23.3.45.87.31,1.13s-.71.44-1.1.45Q900.2,1010.93,881.78,1010.91ZM871.3,993.34c-.67,1.3-1.29,2.49-1.89,3.69a1.31,1.31,0,0,0-.08.53q-.15,3.72-.29,7.45c0,.53-.08,1-.69,1.13s-.82-.41-1-.89c-.31-.84-.62-1.67-1-2.66l-3.31,6.7a1.73,1.73,0,0,0,.27.06c5.21,0,10.41,0,15.62,0a1.3,1.3,0,0,0,.82-.43q2.7-3.06,5.33-6.18a1.9,1.9,0,0,0,.4-1c.21-2,.35-4,.56-6,.1-1,.66-1.18,1.44-.63l2.1,1.55c-.32-2.16-.65-4.15-.89-6.15a3,3,0,0,0-.9-1.81c-3.09-3.38-6.15-6.79-9.23-10.19-.13-.14-.29-.26-.46-.42-1.3,3.2-2.58,6.33-3.84,9.47a2.48,2.48,0,0,0-.14,1c0,2.74.08,5.49.13,8.23,0,.51,0,1-.65,1.15s-.84-.36-1-.84C872.2,995.82,871.77,994.64,871.3,993.34Zm3.27-10.8-.19-.12c-.17.21-.34.41-.5.62q-2.82,3.66-5.62,7.33A1.34,1.34,0,0,1,867,991c-1.09,0-2.18,0-3.26,0a1.42,1.42,0,0,0-.93.47q-2.31,3.12-4.54,6.29a1.36,1.36,0,0,1-1.3.66c-.8,0-1.6,0-2.4,0a1.12,1.12,0,0,0-1.09.54c-2.33,3.26-4.68,6.5-7,9.75-.13.18-.23.37-.36.57.11,0,.15.08.2.08,4.84,0,9.68,0,14.53,0a1,1,0,0,0,.67-.45c.46-.84.86-1.71,1.28-2.56,1-1.92,1.88-3.86,2.87-5.76a1.32,1.32,0,0,1,.89-.67c.24,0,.52.45.76.72a1.93,1.93,0,0,1,.23.48,12.85,12.85,0,0,0,.17-2.37,5.63,5.63,0,0,1,.17-2.07c.86-1.9,1.86-3.74,2.85-5.58a1,1,0,0,1,.75-.4c.24,0,.5.29.67.52a4.19,4.19,0,0,1,.34.81,1,1,0,0,0,.11-.6,12.94,12.94,0,0,1,1.48-7.62A13.24,13.24,0,0,0,874.57,982.54Zm21.5,9.31L896,992a1.6,1.6,0,0,1,.12.37l2.52,11.11c.12.53.38,1.12-.25,1.46s-1-.23-1.4-.65L894,1001c-1.16,1-2.17,2-2.25,3.63s-.44,3.11-.67,4.66h26.3c-3.29-4-6.52-8-9.77-12a4.1,4.1,0,0,0-1-.6c.06.58.08.88.13,1.19.34,2.46.69,4.91,1,7.37.07.5.11,1-.47,1.15s-.87-.22-1.12-.67q-2.38-4.31-4.8-8.6a3.81,3.81,0,0,0-.63-.86c-1.36-1.36-2.73-2.69-4.11-4A5.72,5.72,0,0,0,896.07,991.85Zm-14.54,17.44h8c.13-.88.29-1.7.37-2.52.25-2.8.69-5.5,3.29-7.21a.57.57,0,0,0,.11-.11c.6-.58.91-.57,1.49.06s1.06,1.16,1.59,1.74l.13-.07-2.55-11.25H890.2c.4,2.69.82,5.32,1.17,8A1.41,1.41,0,0,1,891,999c-.19.15-.77,0-1.07-.25-.81-.52-1.56-1.12-2.42-1.76-.16,1.81-.27,3.49-.47,5.16a2.59,2.59,0,0,1-.52,1.32C884.91,1005.41,883.25,1007.29,881.53,1009.29Zm21.52-12.38,2.4,4.31.17-.07-.61-4.24Zm-28.47-14.5,0,0-.1-.05,0,0Z"/>
    
          <path data-image="135" data-tip="penthouse06" class="${styles.st0}" d="M180.79,398.7H411.46V549.12H180.79Z"/>
            <path data-image="136" data-tip="penthouse06" class="${styles.st0}" d="M180.79,549.12H411.46V697.94l-230.67.45Z"/>
            <path data-image="136" data-tip="penthouse06" class="${styles.st0}" d="M180.79,698.39l230.67-.45V852l-230.67.45Z"/>
            <polygon data-image="138" data-tip="penthouse06" class="${styles.st0}" points="486.68 483.31 564.18 483.31 564.18 532.61 660.71 532.61 660.71 785.53 564.18 785.53 564.18 766.27 545.38 766.27 545.38 622.73 563.95 622.73 563.95 561.04 486.68 561.04 486.68 483.31"/>
            <polygon data-image="139" data-tip="penthouse06" class="${styles.st0}" points="635.57 532.61 635.57 483.31 797.91 483.31 797.91 785.3 660.71 785.3 660.71 532.61 635.57 532.61"/>
            <polygon data-image="140" data-tip="penthouse06" class="${styles.st0}" points="797.91 483.31 924.01 483.31 924.01 572.91 950.03 572.91 950.03 785.3 797.91 785.3 797.91 483.31"/>
            <polygon data-image="141" data-tip="penthouse06" class="${styles.st0}" points="950.03 785.3 950.03 483.31 1085.15 483.31 1085.15 620.66 1062.67 620.66 1062.67 683.26 1122.98 683.26 1122.98 751.82 957.88 751.82 957.88 785.3 950.03 785.3"/>
            <polygon data-image="142" data-tip="penthouse06" class="${styles.st0}" points="1085.15 483.31 1237.17 483.31 1237.17 552.1 1204.38 552.1 1204.38 606.22 1237.17 606.22 1237.17 751.36 1153.02 751.36 1122.98 751.36 1122.98 683.03 1062.45 683.03 1062.45 620.66 1085.15 620.66 1085.15 483.31"/>
            <polygon data-image="143" data-tip="penthouse06" class="${styles.st0}" points="1237.17 483.31 1387.67 483.31 1387.67 620.2 1410.6 620.2 1410.6 683.64 1350.52 683.64 1350.52 751.52 1237.17 751.52 1237.17 606.22 1268.53 606.22 1268.53 552.16 1237.17 552.16 1237.17 483.31"/>
            <polygon data-image="144" data-tip="penthouse06" class="${styles.st0}" points="1350.52 751.52 1524.48 751.52 1524.48 631.36 1524.48 509.99 1524.48 483.31 1387.67 483.31 1387.67 620.2 1410.6 620.2 1410.6 683.64 1350.52 683.64 1350.52 751.52"/>
            <polygon data-image="145" data-tip="penthouse06" class="${styles.st0}" points="1548.33 408.79 1730.8 408.85 1730.55 650.78 1524.48 650.78 1524.48 575.78 1551.71 575.78 1551.71 483.31 1548.62 483.31 1548.33 408.79"/>
        
            </svg>
          `;

          svgOverlay.innerHTML = svgContent;

          viewer.addOverlay({
            element: svgOverlay,
            location: new OpenSeadragon.Rect(0, 0, 5.209, 5.208),
            placement: OpenSeadragon.Placement.CENTER
          });

          // Add click event listeners to polygons
         
          svgOverlay.querySelectorAll('polygon, path').forEach(element => {
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              console.log("JNKJJKNLK")
              const dataImage = element.getAttribute('data-image');
              if (dataImage) {
                console.log(dataImage)
                router.push(`/${imageName}/Apartment${dataImage}`);
              }
            });
          });

        }
      });

      const zoomControls = document.createElement('div');
      zoomControls.className = styles.zoomControls;

      const zoomInButton = document.createElement('div');
      zoomInButton.className = styles.ZoomInbuttonStyle;
      zoomInButton.innerHTML = '<img src="/images/icons/zoomIn.svg" alt="Zoom In" width="24" height="24" />';
      zoomInButton.onclick = () => viewer.viewport.zoomBy(1.5);

      const zoomOutButton = document.createElement('div');
      zoomOutButton.className = styles.ZoomOutbuttonStyle;
      zoomOutButton.innerHTML = '<img src="/images/icons/zoomOut.svg" alt="Zoom Out" width="24" height="24" />';
      zoomOutButton.onclick = () => viewer.viewport.zoomBy(0.667);

      const resetZoomButton = document.createElement('div');
      resetZoomButton.className = styles.ZoonOutbuttonStyle;
      resetZoomButton.innerHTML = '<img src="/images/icons/resetZoom.svg" alt="Reset Zoom" width="24" height="24" />';
      resetZoomButton.onclick = () => viewer.viewport.goHome();

      // zoomControls.appendChild(zoomInButton);
      // zoomControls.appendChild(zoomOutButton);
      // zoomControls.appendChild(resetZoomButton);

      viewer.addControl(zoomControls, {
        anchor: OpenSeadragon.ControlAnchor.TOP_LEFT
      });

    }

    return () => {
      if (viewer) {
        viewer.destroy();
      }
    };
  }, [imageName, imageLink, router]);

  useEffect(() => {
    const handleResize = () => {
      setIsLaptopScreen(window.innerWidth >= 1100);
    };

    window.addEventListener('resize', handleResize);
    handleResize();

    return () => window.removeEventListener('resize', handleResize);
  }, []);

  useEffect(() => {
    const handleOutsideClick = (e) => {
      if (!e.target.closest('polygon') && !e.target.closest(`.${styles.popupMenu}`)) {
        setActivePolygon(null);
      }
    };

    document.addEventListener('click', handleOutsideClick);

    return () => {
      document.removeEventListener('click', handleOutsideClick);
    };
  }, []);

  // const handleExplorePlan = () => {
  //   if (activePolygon) {
  //     router.push(`/thirdFloor/${activePolygon.id}`);
  //   }
  // };



  


  const handleEnterVR = () => {
    console.log('Enter VR');
    // Implement VR entry logic here
  };


  const handleResetZoom = () => {
    if (viewer) {
      viewer.viewport.goHome();
    }
  };

  const handleZoomIn = () => {
    if (viewer) {
      const currentZoom = viewer.viewport.getZoom();
      const maxZoom = viewer.viewport.getMaxZoom();
      const newZoom = Math.min(currentZoom * 1.5, maxZoom);
      viewer.viewport.zoomTo(newZoom);
    }
  };

  const handleZoomOut = () => {
    if (viewer) {
      const currentZoom = viewer.viewport.getZoom();
      const minZoom = viewer.viewport.getMinZoom();
      const newZoom = Math.max(currentZoom / 1.5, minZoom);
      viewer.viewport.zoomTo(newZoom);
    }
  };


  const handleExplorePlan = () => {
    if (activePolygon) {
      router.push(`/${imageName}/Apartment${activePolygon.id}`);
    }
  };

  const handleCloseMenu = () => {
    setActivePolygon(null);
  };

  const menuVariants = {
    hidden: { opacity: 0, scale: 0.8 },
    visible: { opacity: 1, scale: 1, transition: { type: 'spring', stiffness: 300, damping: 30 } }
  };
  
  // const handlePlan({key})
  // {
  //   router
  // }


  return (
    // <Suspense fallback={<div className={styles.loadingOverlay}><Loading /></div>}>
      
      <>

      {  !isMobile ?
      <>
       <div className={styles.ZoomInbuttonStyle} onClick={handleZoomIn}>         
          <img src="/images/icons/zoomIn.svg" alt="Zoom Out" width="24" height="24" />         
        </div>

        <div className={styles.ZoomOutbuttonStyle} onClick={handleZoomOut}>         
          <img src="/images/icons/zoomOut.svg" alt="Zoom Out" width="24" height="24" />         
        </div>
      </>
      :
      <>
        <div className={styles.ZoomInMobbuttonStyle} onClick={handleZoomIn}>         
          <img src="/images/icons/zoomIn.svg" alt="Zoom Out" width="24" height="24" />         
        </div>

        <div className={styles.ZoomOutMobbuttonStyle} onClick={handleZoomOut}>         
          <img src="/images/icons/zoomOut.svg" alt="Zoom Out" width="24" height="24" />         
        </div>

      </>

      }

      
      { !isMobile && <div className={styles.ButtomZoomExitBtns}>
        <div className={styles.zoomReset} onClick={handleResetZoom}>
          <div className={styles.zoomResetInside}>
            Zoom Out
          </div>
        </div>

        <div className={styles.backToBuilding} onClick={() => router.push('/')}>
          <div className={styles.backToBuildingInside}>
            Back to Building
          </div>
        </div>

      </div>}

     


      <div className={styles.floorContainer}>
      
      
        {isLoading && <Loading />}
        <div ref={viewerRef} style={{ width: '100%', height: '100vh', visibility: isLoading ? 'hidden' : 'visible' }} />
        
        
        {activePolygon && (
        <div 
          className={styles.popupMenu}
          style={{ 
            left: `${popupPosition.x}px`, 
            top: `${popupPosition.y}px` 
          }}
        >
          <div className={styles.popupTop} >
            <div className={styles.popupTopBtns} onClick={handleExplorePlan}>
                Explore Plan
            </div>
            <div className={styles.popupTopBtnsGallery}>
                Gallery
            </div>
          </div>


          <div className={styles.apartmentInterestBox}>
            <div className={styles.apartmentInterestInside}>
          
                
                <div className={styles.apartmentInterestTitle}>
                    <div className={styles.apartmentInterestTitleText}>
                        {/* {translations.apartmentInterest || 'Apartment Interest'} */}
                          Apartment no. {activePolygon.id}
                        </div>
                    <div className={styles.apartmentInterestTitleIcon}  onClick={handleIconClick}>
                      <Image 
                        // src="/images/icons/favIconFilled.svg"
                        src={favoriteApartments.some(apt => apt.Apartmentno === apartmentInfo?.Apartmentno) 
                            ? "/images/icons/favIconFilled.svg" 
                            : "/images/icons/favIcon.svg"} 
                        quality={100} 
                        alt="Favorite" 
                        height={22} 
                        width={22} 
                      /> 
                </div>

                </div>
                <div className={styles.apartmentInterestList}>

                <div className={styles.apartmentInterestItem}>
                    <div className={styles.apartmentInterestItemKey}>
                        Floor
                    </div>
                    <div className={styles.apartmentInterestItemValue}>
                        {floor || ''}
                    </div>
                </div>

                <div className={styles.apartmentInterestItem}>
                    <div className={styles.apartmentInterestItemKey}>
                        Type
                    </div>
                    <div className={styles.apartmentInterestItemValue}>
                        {activePolygon.Type || ''}
                    </div>
                </div>
                <div className={styles.apartmentInterestItem}>
                    <div className={styles.apartmentInterestItemKey}>
                        Bedrooms
                    </div>
                    <div className={styles.apartmentInterestItemValue}>
                          {activePolygon.Bedrooms || ''}
                    </div>
                </div>
                <div className={styles.apartmentInterestItem}>
                    <div className={styles.apartmentInterestItemKey}>
                        Area
                    </div>
                    <div className={styles.apartmentInterestItemValue}>
                        {activePolygon?.Area || ''}
                    </div>
                </div>

                </div>
            </div>

          </div>

        </div>
      )}


      </div>
    </>
  );
};

export default Floor;